---
title: "提示词工程指南"
description: "如何编写有效的Prompt获得更好的LLM输出结果。"
tags: ["Prompt", "工程实践", "LLM", "最佳实践"]
difficulty: "入门"
readTime: 15
order: 2
author: "degang"
createdAt: "2026-01-18"
updatedAt: "2026-01-18"
---

# 提示词工程指南

提示词工程（Prompt Engineering）是设计和优化输入给大语言模型的文本提示，以获得更准确、更相关输出的技能。

## 什么是提示词工程？

提示词工程是一种艺术，也是一种科学。它需要：
- 理解LLM的工作原理
- 掌握有效的表达方式
- 不断实验和迭代优化

## 基本原则

### 1. 清晰具体

**不好的例子**：
```
写一篇关于AI的文章
```

**好的例子**：
```
写一篇关于机器学习在医疗领域应用的文章，要求：
- 目标读者：非技术背景的医疗从业者
- 字数：800-1000字
- 包含3个具体应用案例
- 语言风格：专业但易懂
```

### 2. 提供上下文

**不好的例子**：
```
这个模型怎么样？
```

**好的例子**：
```
我正在开发一个电商网站的评论情感分析系统，正在考虑使用BERT和RoBERTa两个模型。
请分析这两个模型的优缺点，特别关注：
1. 准确率对比
2. 推理速度
3. 训练成本
```

### 3. 明确输出格式

**示例**：
```
请以JSON格式返回以下信息：
{
  "sentiment": "positive/negative/neutral",
  "confidence": 0-1之间的分数,
  "keywords": ["关键词1", "关键词2"]
}
```

## 核心技巧

### 1. 角色设定（Persona）

给模型分配一个角色，可以让回答更有针对性。

```
你是一位经验丰富的Python工程师，专注于代码审查。
请审查以下代码，重点关注：
- 代码风格
- 潜在bug
- 性能优化建议

代码：
[你的代码]
```

### 2. 少样本学习（Few-shot Learning）

提供示例，让模型理解期望的输出格式。

```
任务：将用户评论转换为情感分类

示例1：
输入："这个产品太棒了，非常满意！"
输出："正面"

示例2：
输入："质量一般，不太推荐"
输出："中性"

示例3：
输入："完全浪费钱，退货了"
输出："负面"

现在请分类：
输入："服务态度很好，但物流太慢了"
输出：
```

### 3. 思维链（Chain of Thought）

引导模型展示推理过程。

```
请一步步思考并解决以下问题：

问题：如果一个农场有50只鸡和30只牛，
所有动物一共有多少条腿？

思考过程：
1. 每只鸡有2条腿，50只鸡共有：50 × 2 = 100条腿
2. 每头牛有4条腿，30头牛共有：30 × 4 = 120条腿
3. 总共：100 + 120 = 220条腿

答案：220条腿

现在请用同样的方式解决：
问题：一个停车场有15辆汽车和8辆摩托车，
一共有多少个轮子？
```

### 4. 结构化提示

使用分隔符和结构化格式提高可读性。

```
### 任务描述
将以下文本翻译成英文，保持专业语气。

### 输入文本
我们致力于提供最优质的服务，确保客户满意度。

### 要求
- 保持商业专业语调
- 不要直译，要符合英语表达习惯
- 使用简洁的表达

### 输出
```

## 高级技巧

### 1. 迭代优化

将复杂任务分解为多个步骤。

```
Step 1: 首先分析用户需求
用户说："我想做一个网站"

Step 2: 询问关键信息
- 网站类型是什么？
- 目标用户是谁？
- 预算范围是多少？

Step 3: 根据回答提供方案
```

### 2. 使用分隔符

用特殊符号标记不同的部分。

```
USER INPUT:
===
今天天气真好，我想去公园玩。

INSTRUCTIONS:
===
分析用户输入的情绪，并给出建议。

分析：
===
```

### 3. 约束条件

明确告诉模型不要做什么。

```
请解释量子计算的基本原理。

约束条件：
- 不要使用数学公式
- 不要提及具体的量子算法
- 用日常生活中的比喻来说明
- 回答控制在300字以内
```

## 常见应用场景

### 代码生成

```
角色：你是资深后端工程师

任务：使用Python FastAPI实现一个REST API

要求：
- 实现用户注册、登录接口
- 使用JWT进行认证
- 包含输入验证
- 添加适当的错误处理
- 代码要包含类型注解和文档字符串
```

### 文本摘要

```
请总结以下文章，要求：
- 保留关键信息和主要观点
- 字数控制在原文的20%
- 不要加入原文没有的信息
- 使用项目符号列表格式

原文：
[长文本]
```

### 数据分析

````
你是一位数据分析师。

数据：

月份 | 销售额 | 订单数
1月  | 100万  | 5000
2月  | 120万  | 6000
3月  | 90万   | 4500
4月  | 150万  | 7500

请分析：
1. 4个月的销售趋势
2. 计算平均客单价
3. 给出优化建议

````

### 创意写作

```
请写一个科幻微小说：

背景：
- 2050年的地球
- AI已经成为人类伙伴

情节：
- 主人公发现了AI的一个秘密
- 故事要有反转

要求：
- 800-1000字
- 悬念设置
- 开放式结局
```

## 常见错误

### 错误1：过于模糊

```
❌ 帮我写个代码
✅ 用Python实现一个冒泡排序算法，包含详细注释
```

### 错误2：指令冲突

```
❌ 写一个简洁但又详细的介绍
✅ 写一个简洁的介绍（100字以内），然后在附录中提供详细版本
```

### 错误3：缺少上下文

```
❌ 如何优化这个？
✅ 我正在训练一个图像分类模型，目前准确率只有75%，
   训练集准确率95%，测试集75%。请分析问题并提供优化建议。
```

## 工具推荐

### 提示词管理工具

- **PromptPerfect**: 自动优化提示词
- **PromptLayer**: 提示词版本管理
- **LangChain**: 结构化提示词模板

### 评估工具

- **Promptfoo**: 批量测试提示词
- **Promptimize**: A/B测试不同提示词

## 最佳实践清单

在编写提示词时，检查是否包含：

- [ ] 清晰的任务描述
- [ ] 必要的上下文信息
- [ ] 明确的输出格式要求
- [ ] 相关的示例（如需要）
- [ ] 合理的约束条件
- [ ] 适当的角色设定
- [ ] 结构化的格式

## 示例：完整提示词模板

```
## 角色设定
你是一位[具体角色，如：资深产品经理]

## 任务目标
[清晰描述要完成的任务]

## 背景信息
- 项目背景：[...]
- 目标用户：[...]
- 技术栈：[...]
- 约束条件：[...]

## 输入数据
[要处理的数据或内容]

## 输出要求
- 格式：[JSON/Markdown/表格等]
- 语言：[中文/英文等]
- 风格：[正式/随意/专业等]
- 长度：[具体字数或段落要求]

## 示例
[提供1-3个示例，展示期望的输出格式]

## 注意事项
- 注意点1
- 注意点2
- 禁止做的事情
```

## 总结

提示词工程的核心要点：

1. **清晰具体**：明确表达需求
2. **提供上下文**：帮助模型理解背景
3. **使用示例**：演示期望的输出
4. **结构化格式**：提高可读性
5. **迭代优化**：不断实验改进

记住：提示词工程是一个迭代过程，需要根据实际效果不断调整优化。
